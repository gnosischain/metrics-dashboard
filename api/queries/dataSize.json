{
  "id": "dataSize",
  "query": "\n      SELECT\n        date\n        ,SUM(if(splitByChar('/', agent_version)[1] ='Lighthouse',1,0)) AS Lighthouse\n        ,SUM(if(splitByChar('/', agent_version)[1] ='teku',1,0)) AS Teku\n        ,SUM(if(splitByChar('/', agent_version)[1] ='lodestar',1,0)) AS Lodestar\n        ,SUM(if(splitByChar('/', agent_version)[1] ='nimbus',1,0)) AS Nimbus\n        ,SUM(if(splitByChar('/', agent_version)[1] ='erigon',1,0)) AS Erigon\n        ,SUM(if(splitByChar('/', agent_version)[1] ='',1,0)) AS Unknown\n      FROM (\n        SELECT \n          toDate(visit_ended_at) AS date\n          ,peer_id\n          ,any_value(agent_version) AS agent_version\n        FROM    \n          nebula.visits \n        WHERE\n          peer_properties.next_fork_version LIKE '%064'\n          AND visit_ended_at BETWEEN '{from}' AND '{to} 23:59:59'\n        GROUP BY 1, 2\n      )\n        GROUP BY 1\n        ORDER BY 1\n  "
}